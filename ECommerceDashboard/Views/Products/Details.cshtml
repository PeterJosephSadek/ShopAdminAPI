@model ECommerceDashboard.DAL.Entities.Products.Product

@{
    ViewData["Title"] = "Details";
}


<div class="container">
    <h2 class="fs-3 fw-bold mb-2">Details</h2>
    <p class="text-muted mb-5">Details For @Html.DisplayFor(model => model.Name)</p>
    <div class="mt-4 border-top">
        <dl class="row">
            <div class="col-12 py-3 d-flex">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Name)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Name)
                </dd>
            </div>
            <div class="col-12 py-3 d-flex">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Price)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Price) EGP
                </dd>
            </div>
            <div class="col-12 py-3 d-flex">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Description)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Description)
                </dd>
            </div>
            <div class="col-12 py-3 d-flex">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.CreatedOn)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.CreatedOn)
                </dd>
            </div>
            <div class="col-12 py-3 d-flex">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Collection)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Collection.Name)
                </dd>
            </div>
            <div class="col-12 py-3 d-flex">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Category)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Category.Name)
                </dd>
            </div>
            <div>
                <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
                <a asp-action="Index">Back to List</a>
            </div>

        </dl>
    </div>

    <hr />
    <h2 class="fs-3 fw-bold mb-2">Reviews</h2>
    @if (Model.Reviews.Count() == 0)
    {
        <p class="text-muted mb-5">No Reviews For @Html.DisplayFor(model => model.Name) yet, <a asp-action="create" asp-controller="reviews" asp-route-id="@Model.Id">Add review</a></p>
    }else
    
    {
    <p class="text-muted mb-5">Reviews For @Html.DisplayFor(model => model.Name)</p>
        @foreach (var item in Model.Reviews)
        {
            <article class="py-5 border-bottom border-top">
                <div class="row">
                    <div class="col-12 col-md-4">
                        <small class="text-muted fw-bolder">@item.CreatedOn.ToString("dd/MM/yyyy")</small>
                        <p class="fw-bolder">@item.CustomerName</p>
                        <span class="bg-success-faded fs-xs fw-bolder text-uppercase p-2">Verified Customer</span>
                    </div>
                    <div class="col-12 col-md-8 mt-4 mt-md-0">
                        <!-- Review Stars Small-->
                        <div class="rating position-relative d-table">
                            <div class="position-absolute stars" style="width: 60%">
                                <i class="ri-star-fill text-dark mr-1"></i>
                                <i class="ri-star-fill text-dark mr-1"></i>
                                <i class="ri-star-fill text-dark mr-1"></i>
                                <i class="ri-star-fill text-dark mr-1"></i>
                                <i class="ri-star-fill text-dark mr-1"></i>
                            </div>
                            <div class="stars">
                                <i class="ri-star-fill mr-1 text-muted opacity-25"></i>
                                <i class="ri-star-fill mr-1 text-muted opacity-25"></i>
                                <i class="ri-star-fill mr-1 text-muted opacity-25"></i>
                                <i class="ri-star-fill mr-1 text-muted opacity-25"></i>
                                <i class="ri-star-fill mr-1 text-muted opacity-25"></i>
                            </div>
                        </div>
                        <p class="fw-bolder mt-4">@item.Title</p>
                        <p>
                            @item.Text
                        </p>

                        <small class="fw-bolder bg-light d-table rounded py-1 px-2">Yes, I would recommend the product</small>
                        <div class="d-block d-md-flex mt-3 justify-content-between align-items-center">
                            <a href="#" class="btn btn-link text-muted p-0 text-decoration-none w-100 w-md-auto fw-bolder text-start" title="">
                                <small>
                                    Was this review helpful?
                                    <i class="ri-thumb-up-line ms-4"></i> 112 <i class="ri-thumb-down-line ms-2"></i>
                                    23
                                </small>
                            </a>
                            <a href="#" class="btn btn-link text-muted p-0 text-decoration-none w-100 w-md-auto fw-bolder text-start mt-3 mt-md-0" title="">
                                <small>
                                    Flag as
                                    inappropriate <i class="ri-flag-2-line ms-2"></i>
                                </small>
                            </a>
                        </div>
                    </div>
                </div>
            </article>

        }

        }
</div>
